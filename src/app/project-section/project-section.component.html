<section class="projects" id="projects">
  <div class="projects__header">
    <h2 class="projects__title">{{ translations?.projects?.title }}</h2>
    <p class="projects__subtitle">{{ translations?.projects?.subtitle }}</p>
  </div>

  <div class="projects__grid">
    <article class="project-card" *ngFor="let project of visibleProjects; trackBy: trackByProjectId">
      <img [src]="project.imageUrl" [alt]="project.title[currentLanguage]" class="project-card__image">

      <div class="project-card__content">
        <h3 class="project-card__title">{{ project.title[currentLanguage] }}</h3>
        <p class="project-card__description">{{ project.description[currentLanguage] }}</p>

        <div class="project-card__technologies">
          <span class="technology-tag" *ngFor="let tech of project.technologies">
            {{ tech }}
          </span>
        </div>

        <div class="project-card__actions">
          <a [href]="project.codeUrl" target="_blank" rel="noopener" class="btn btn--github">
            <i class="fab fa-github"></i>
            <span>{{ translations?.projects?.viewCode }}</span>
          </a>
          <a [href]="project.projectUrl" target="_blank" rel="noopener" class="btn btn--demo">
            <i class="fas fa-external-link-alt"></i>
            <span>{{ translations?.projects?.viewProject }}</span>
          </a>
        </div>
      </div>
    </article>
  </div>

  <div class="projects__footer" *ngIf="projects.length > 3">
    <button class="btn btn--toggle" (click)="toggleProjectsView()">
      {{ showAllProjects ? (currentLanguage === 'pt' ? 'Mostrar menos' : currentLanguage === 'en' ? 'Show less' : 'Mostrar menos') : (currentLanguage === 'pt' ? 'Ver todos os projetos' : currentLanguage === 'en' ? 'View all projects' : 'Ver todos los proyectos') }}
      <i class="fas" [class.fa-chevron-up]="showAllProjects" [class.fa-chevron-down]="!showAllProjects"></i>
    </button>
  </div>
</section>
